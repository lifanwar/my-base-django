{% load tailwind_tags %}
{% tailwind_css %}
<div
  class="relative bg-yellow-100 border-4 border-gray-900 p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]"
>
  <!-- Form Badge -->
  <div
    class="absolute -top-4 -left-4 bg-red-500 text-white font-black text-sm px-4 py-2 border-2 border-gray-900 rotate-[-5deg]"
  >
    GET IN TOUCH!
  </div>

  <!-- Success/Error Messages - Retro Brutalist Style -->
  {% if messages %} {% for message in messages %}
  <div class="mb-6 relative">
    {% if message.tags == 'success' %}
    <!-- Success Message -->
    <div
      class="bg-green-400 border-4 border-gray-900 p-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] transform rotate-[-1deg]"
    >
      <div class="flex items-start gap-4">
        <div
          class="flex-shrink-0 w-12 h-12 bg-green-600 border-4 border-gray-900 flex items-center justify-center rotate-[5deg]"
        >
          <span class="text-2xl">✓</span>
        </div>
        <div class="flex-1">
          <h4 class="font-black text-xl uppercase mb-2 text-gray-900">
            Success!
          </h4>
          <p class="font-bold text-gray-900">{{ message }}</p>
        </div>
      </div>
    </div>
    {% else %}
    <!-- Error Message -->
    <div
      class="bg-red-400 border-4 border-gray-900 p-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] transform rotate-[1deg]"
    >
      <div class="flex items-start gap-4">
        <div
          class="flex-shrink-0 w-12 h-12 bg-red-600 border-4 border-gray-900 flex items-center justify-center rotate-[-5deg]"
        >
          <span class="text-2xl text-white">✕</span>
        </div>
        <div class="flex-1">
          <h4 class="font-black text-xl uppercase mb-2 text-gray-900">Oops!</h4>
          <p class="font-bold text-gray-900">{{ message }}</p>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
  {% endfor %} {% endif %}

  <form method="post" action="{% url 'home' %}#contact" class="space-y-6">
    {% csrf_token %}

    <!-- Name Field -->
    <div>
      <label
        for="{{ contact_form.name.id_for_label }}"
        class="block text-sm font-black uppercase mb-3 tracking-wide"
      >
        {{ contact_form.name.label }}
      </label>
      {{ contact_form.name }} {% if contact_form.name.errors %}
      <div
        class="mt-3 bg-red-100 border-4 border-red-500 p-3 shadow-[3px_3px_0px_0px_rgba(239,68,68,1)]"
      >
        <p class="text-red-700 text-sm font-black uppercase">
          ⚠ {{ contact_form.name.errors.0 }}
        </p>
      </div>
      {% endif %}
    </div>

    <!-- Email Field -->
    <div>
      <label
        for="{{ contact_form.email.id_for_label }}"
        class="block text-sm font-black uppercase mb-3 tracking-wide"
      >
        {{ contact_form.email.label }}
      </label>
      {{ contact_form.email }} {% if contact_form.email.errors %}
      <div
        class="mt-3 bg-red-100 border-4 border-red-500 p-3 shadow-[3px_3px_0px_0px_rgba(239,68,68,1)]"
      >
        <p class="text-red-700 text-sm font-black uppercase">
          ⚠ {{ contact_form.email.errors.0 }}
        </p>
      </div>
      {% endif %}
    </div>

    <!-- Message Field -->
    <div>
      <label
        for="{{ contact_form.message.id_for_label }}"
        class="block text-sm font-black uppercase mb-3 tracking-wide"
      >
        {{ contact_form.message.label }}
      </label>
      {{ contact_form.message }} {% if contact_form.message.errors %}
      <div
        class="mt-3 bg-red-100 border-4 border-red-500 p-3 shadow-[3px_3px_0px_0px_rgba(239,68,68,1)]"
      >
        <p class="text-red-700 text-sm font-black uppercase">
          ⚠ {{ contact_form.message.errors.0 }}
        </p>
      </div>
      {% endif %}
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="w-full bg-gray-900 text-white px-6 py-4 font-black uppercase text-lg border-4 border-gray-900 hover:bg-white hover:text-gray-900 transition-all shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:translate-x-[0px] active:translate-y-[0px]"
    >
      Send Message →
    </button>
  </form>
</div>
