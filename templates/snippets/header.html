<header class="border-b border-gray-300 bg-[#fefce8] sticky top-0 z-50">
  <nav class="max-w-7xl mx-auto px-6 py-6 flex items-center justify-between">
    <!-- Logo -->
    <div class="flex items-center gap-4">
      <h1 class="text-xl font-bold tracking-tight leading-tight">
        MUALIFUL<br />ANWAR
      </h1>
      <div class="w-px h-12 bg-gray-900"></div>

      <!-- Language Dropdown -->
      <div
        x-data="{ 
  open: false, 
  selected: 'Language',
  closeTimer: null,
  isTouchDevice: ('ontouchstart' in window) || (navigator.maxTouchPoints > 0),
  openDropdown() {
    if (this.isTouchDevice) return; // Disable hover on touch devices
    clearTimeout(this.closeTimer);
    this.open = true;
  },
  closeDropdown() {
    if (this.isTouchDevice) return; // Disable hover on touch devices
    this.closeTimer = setTimeout(() => {
      this.open = false;
    }, 200);
  }
}"
        @click.away="open = false"
        @mouseenter="openDropdown()"
        @mouseleave="closeDropdown()"
        class="relative"
      >
        <button
          @click="open = !open"
          class="flex items-center gap-3 text-base font-medium"
        >
          <span x-text="selected" class="inline-block min-w-[70px]"></span>
          <svg
            class="w-4 h-4 transition-transform duration-200"
            :class="{ 'rotate-180': open }"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>

        <!-- Dropdown Menu -->
        <div
          x-show="open"
          x-transition:enter="transition ease-out duration-100"
          x-transition:enter-start="opacity-0 transform scale-95"
          x-transition:enter-end="opacity-100 transform scale-100"
          x-transition:leave="transition ease-in duration-75"
          x-transition:leave-start="opacity-100 transform scale-100"
          x-transition:leave-end="opacity-0 transform scale-95"
          class="absolute top-full left-0 mt-2 bg-white border-4 border-gray-900 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] z-50"
          style="display: none"
        >
          <!-- Garis atas -->
          <div class="w-full h-px bg-gray-900"></div>

          <!-- Option: English -->
          <button
            @click="selected = 'Language'; open = false"
            class="block w-full text-left px-4 py-2.5 text-base font-medium hover:bg-yellow-100 transition-colors whitespace-nowrap min-w-[120px]"
            :class="{ 'bg-yellow-100': selected === 'Language' }"
          >
            EN - English
          </button>

          <!-- Garis pemisah -->
          <div class="w-full h-px bg-gray-900"></div>

          <!-- Option: Indonesia -->
          <button
            @click="selected = 'Bahasa'; open = false"
            class="block w-full text-left px-4 py-2.5 text-base font-medium hover:bg-yellow-100 transition-colors whitespace-nowrap min-w-[120px]"
            :class="{ 'bg-yellow-100': selected === 'Bahasa' }"
          >
            ID - Indonesia
          </button>

          <!-- Garis bawah -->
          <div class="w-full h-px bg-gray-900"></div>
        </div>
      </div>
    </div>

    <!-- Menu -->
    <div class="hidden md:flex items-center gap-8">
      <a href="#about" class="text-base font-medium hover:underline">About</a>
      <a href="#experience" class="text-base font-medium hover:underline"
        >Experience</a
      >
      <a href="#projects" class="text-base font-medium hover:underline"
        >Projects</a
      >
      <a href="#contact" class="text-base font-medium hover:underline"
        >Contact</a
      >
    </div>

    <!-- Mobile menu button with Alpine.js -->
    <div x-data="{ mobileMenuOpen: false }" class="md:hidden relative">
      <!-- Hamburger Button -->
      <button
        @click="mobileMenuOpen = !mobileMenuOpen"
        class="relative w-6 h-6"
      >
        <span class="sr-only">Toggle menu</span>
        <div class="absolute inset-0 flex flex-col justify-center gap-1.5">
          <span
            class="block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out"
            :class="mobileMenuOpen ? 'rotate-45 translate-y-2' : ''"
          ></span>
          <span
            class="block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out"
            :class="mobileMenuOpen ? 'opacity-0' : ''"
          ></span>
          <span
            class="block h-0.5 w-6 bg-gray-900 transition-all duration-300 ease-in-out"
            :class="mobileMenuOpen ? '-rotate-45 -translate-y-2' : ''"
          ></span>
        </div>
      </button>

      <!-- Mobile Menu Dropdown -->
      <div
        x-show="mobileMenuOpen"
        @click.away="mobileMenuOpen = false"
        x-transition:enter="transition ease-out duration-100"
        x-transition:enter-start="opacity-0 transform scale-95"
        x-transition:enter-end="opacity-100 transform scale-100"
        x-transition:leave="transition ease-in duration-75"
        x-transition:leave-start="opacity-100 transform scale-100"
        x-transition:leave-end="opacity-0 transform scale-95"
        class="absolute top-full right-0 mt-2 bg-white border-4 border-gray-900 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] z-50 min-w-[200px]"
        style="display: none"
      >
        <div class="w-full h-px bg-gray-900"></div>

        <!-- About -->
        <a
          href="#about"
          @click="mobileMenuOpen = false"
          class="block w-full text-left px-4 py-3 text-base font-medium hover:bg-yellow-100 transition-colors"
        >
          About
        </a>

        <div class="w-full h-px bg-gray-900"></div>

        <!-- Experience -->
        <a
          href="#experience"
          @click="mobileMenuOpen = false"
          class="block w-full text-left px-4 py-3 text-base font-medium hover:bg-yellow-100 transition-colors"
        >
          Experience
        </a>

        <div class="w-full h-px bg-gray-900"></div>

        <!-- Projects -->
        <a
          href="#projects"
          @click="mobileMenuOpen = false"
          class="block w-full text-left px-4 py-3 text-base font-medium hover:bg-yellow-100 transition-colors"
        >
          Projects
        </a>

        <div class="w-full h-px bg-gray-900"></div>

        <!-- Contact -->
        <a
          href="#contact"
          @click="mobileMenuOpen = false"
          class="block w-full text-left px-4 py-3 text-base font-medium hover:bg-yellow-100 transition-colors"
        >
          Contact
        </a>

        <div class="w-full h-px bg-gray-900"></div>
      </div>
    </div>
  </nav>
</header>
